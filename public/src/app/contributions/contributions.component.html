<span class="navbar-contributions">
  <span class="navbar-contribution {{selectedContribution == user.login ? 'fixed' : ''}}" *ngFor="let user of status?.contributions?.data.repository.contributions.nodes">
    <span *ngIf="user.contributions.tests.nodes.length + user.contributions.pullRequests.nodes.length + user.contributions.reviews.nodes.length + user.contributions.issues.nodes.length + (status?.communitySite?.[user.login]?.length ?? 0) > 0">

      <img class="avatar-40" src="{{user.avatarUrl}}&size=40" (click)="selectUser(user.login)">
      <span class="navbar-contribution-data dropdown-menu-right">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th style='width:9%'>
                <a href='https://github.com/{{user.login}}?tab=overview&from={{sprintDays[0]?.ghdate}}&to={{sprintDays[13]?.ghdate}}' target='_blank'><img class="avatar-48" src="{{user.avatarUrl}}&size=48">
                {{user.login}}</a>
              </th>
              <th style='width:6.5%' *ngFor="let day of sprintDays">
                <a href='https://github.com/{{user.login}}?tab=overview&from={{day?.ghdate}}&to={{day?.ghdate}}' target='_blank'>{{day?.dayText}}<br>{{day?.monthText}} {{day?.dateText}}</a>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>
                Issues
                <app-clipboard [text]="getContributionIssueText" [context]="{user:user}" title="Copy HTML formatted list of issues to clipboard"></app-clipboard>
              </th>
              <td  *ngFor="let day of sprintDays">
                <span *ngFor="let issue of user.contributions.issues.nodes | filterObjectByDate: day.date">
                  <a class='contribution-issue' href='{{issue.issue.url}}' target='_blank' title='{{issue.issue.title}}'>{{issue.issue.number}}</a>
                </span>
                <span class="contribution-cell-clipboard">
                  <app-clipboard [text]="getContributionIssueText" [context]="{user:user, day:day}" title="Copy HTML formatted list of issues to clipboard"></app-clipboard>
                </span>
              </td>
            </tr>
            <tr>
              <th>
                PRs
                <app-clipboard [text]="getContributionPRText" [context]="{user:user}" title="Copy HTML formatted list of pull requests to clipboard"></app-clipboard>
              </th>
              <td *ngFor="let day of sprintDays">
                <span *ngFor="let pr of user.contributions.pullRequests.nodes | filterObjectByDate: day.date">
                  <a class='contribution-issue' href='{{pr.pullRequest.url}}' target='_blank' title='{{pr.pullRequest.title}}'>{{pr.pullRequest.number}}</a>
                </span>
                <span class="contribution-cell-clipboard">
                  <app-clipboard [text]="getContributionPRText" [context]="{user:user, day:day}" title="Copy HTML formatted list of pull requests to clipboard"></app-clipboard>
                </span>
              </td>
            </tr>
            <tr>
              <th>
                Reviews
                <app-clipboard [text]="getContributionReviewText" [context]="{user:user}" title="Copy HTML formatted list of reviews to clipboard"></app-clipboard>
              </th>
              <td *ngFor="let day of sprintDays">
                <span *ngFor="let review of user.contributions.reviews.nodes | filterObjectByDate: day.date">
                  <a class='contribution-issue' href='{{review.pullRequest.url}}' target='_blank' title='{{review.pullRequest.title}}'>{{review.pullRequest.number}}</a>
                </span>
                <span class="contribution-cell-clipboard">
                  <app-clipboard [text]="getContributionReviewText" [context]="{user:user, day:day}" title="Copy HTML formatted list of reviews to clipboard"></app-clipboard>
                </span>
              </td>
            </tr>
            <tr>
              <th>
                Tests
                <app-clipboard [text]="getContributionTestText" [context]="{user:user}" title="Copy HTML formatted list of test references to clipboard"></app-clipboard>
              </th>
              <td *ngFor="let day of sprintDays">
                <span *ngFor="let test of user.contributions.tests.nodes | filterObjectByDate: day.date">
                  <a class='contribution-issue' href='{{test.url}}' target='_blank' title='{{test.issue.title}}'>{{test.issue.number}}</a>
                </span>
                <span class="contribution-cell-clipboard">
                  <app-clipboard [text]="getContributionTestText" [context]="{user:user, day:day}" title="Copy HTML formatted list of test references to clipboard"></app-clipboard>
                </span>
              </td>
            </tr>
            <tr>
              <th>
                Posts
                <app-clipboard [text]="getContributionPostText" [context]="{user:user}" title="Copy HTML formatted list of community site posts to clipboard"></app-clipboard>
              </th>
              <td *ngFor="let day of sprintDays">
                <span *ngFor="let post of status?.communitySite?.[user.login] | filterObjectByDate: day.date">
                  <a class='contribution-issue' href='{{post.url}}' target='_blank' title='{{post.title}}'>{{post.topic_id}}#{{post.post_number}}</a>
                </span>
                <span class="contribution-cell-clipboard">
                  <app-clipboard [text]="getContributionPostText" [context]="{user:user, day:day}" title="Copy HTML formatted list of community site posts to clipboard"></app-clipboard>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </span>
    </span>
  </span>
</span>
